<p-button
  label="Korpa"
  i18n-label="@@cart.cartButton"
  icon="pi pi-shopping-cart"
  [badge]="numberOfItems"
  badgeClass="p-badge-warning"
  (onClick)="showCart()"
></p-button>
<p-sidebar [(visible)]="sidebarVisible" position="right" class="cart">
  <ng-template pTemplate="header">
    <span i18n="@@cart.header" class="cart__header">
      Korpa: {{ cartItems.length }} proizvod/a
    </span>
  </ng-template>
  <ng-template pTemplate="content">
    @for (item of cartItems; track item.id) {
      <p-card>
        <div class="cart__card">
          <img
            [src]="item.imgURL"
            [alt]="item.name"
            class="cart__card--image"
          />
          <div class="cart__card--content">
            <h3>{{ item.name }}</h3>
            <p>{{ item.price }} RSD</p>
          </div>
          <p-button
            icon="pi pi-times"
            [rounded]="true"
            [text]="true"
            severity="danger"
            (onClick)="removeFromCart(item.id)"
          ></p-button>
        </div>
      </p-card>
    }
  </ng-template>
  <ng-template pTemplate="footer">
    <div class="cart__footer">
      <div class="cart__footer--total">
        <span i18n="@@cart.total">Ukupno:</span>
        <span>{{ total }} KM</span>
      </div>
      <p-button label="Naruči" i18n-label="@@cart.order" (onClick)="order()">
      </p-button>
      <small i18n="@@cart.tax">PDV je obračunat u cijeni.</small>
    </div>
  </ng-template>
</p-sidebar>
